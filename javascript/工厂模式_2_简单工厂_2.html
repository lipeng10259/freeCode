<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src = "CommonUtil.js"></script>
</head>
<body>
    <script>
        function CarShop () {}
        CarShop.prototype = {
            constructor : CarShop,
            sellCar : function (type) {
                var car ;
                switch (type){
                    case 'Benz' :  
                    car = new Benz()
                    break;
                    case 'Audi' :
                    car = new Audi()
                    break;
                    default :
                    alert('no car')
                    break;
                }

                BH.Interface.ensureImplements(car , interfaceCar)

                return car 
                
            }
        }

        var interfaceCar = new BH.Interface('interfaceCar' , ['run' , 'start']);

        var baseCar = function () {};
        baseCar.prototype = {
            constructor : baseCar ,
            run : function () {
                alert(this.constructor.name + ' run')
            },
            start : function () {
                alert(this.constructor.name + 'start')
            }
        }

        function Benz () {}
        BH.extend(Benz , baseCar)


        function Audi () {}

        BH.extend(Audi , baseCar)

        var car_1 = new CarShop()
        car_1.sellCar('Benz').run()

        var car_2 = new CarShop()
        car_2.sellCar('Audi').run()



    
    </script>
</body>
</html>