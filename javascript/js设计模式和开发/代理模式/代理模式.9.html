<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    

    <script>
        /**************** 计算乘积 *****************/
var mult = function(){
var a = 1;
for ( var i = 0, l = arguments.length; i < l; i++ ){
a = a * arguments[i];
}
return a;
};
/**************** 计算加和 *****************/
var plus = function(){
var a = 0;
for ( var i = 0, l = arguments.length; i < l; i++ ){
a = a + arguments[i];
}
return a;
};
/**************** 创建缓存代理的工厂 *****************/
var createProxyFactory = function( fn ){

    var cache = {};

    return function(){

        var args = Array.prototype.join.call( arguments, ',' );

        if ( args in cache ){

            return cache[ args ];

        }

        return cache[ args ] = fn.apply( this, arguments );

    }
};
var proxyMult = createProxyFactory( mult ),

proxyPlus = createProxyFactory( plus );

alert ( proxyMult( 1, 2, 3, 4 ) ); // 输出：24

alert ( proxyMult( 1, 2, 3, 4 ) ); // 输出：24

alert ( proxyPlus( 1, 2, 3, 4 ) ); // 输出：10

alert ( proxyPlus( 1, 2, 3, 4 ) ); // 输出：10
    
// 其他代理模式
// 代理模式的变体种类非常多，限于篇幅及其在JavaScript 中的适用性，本章只简约介绍一下
// 这些代理，就不一一详细展开说明了。
//  防火墙代理：控制网络资源的访问，保护主题不让“坏人”接近。
//  远程代理：为一个对象在不同的地址空间提供局部代表，在Java 中，远程代理可以是另
// 一个虚拟机中的对象。
// 102 第6 章 代理模式
//  保护代理：用于对象应该有不同访问权限的情况。
//  智能引用代理：取代了简单的指针，它在访问对象时执行一些附加操作，比如计算一个
// 对象被引用的次数。
//  写时复制代理：通常用于复制一个庞大对象的情况。写时复制代理延迟了复制的过程，
// 当对象被真正修改时，才对它进行复制操作。写时复制代理是虚拟代理的一种变体，DLL
// （操作系统中的动态链接库）是其典型运用场景。
    
    
    </script>


</body>
</html>