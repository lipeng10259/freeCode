#策略模式





- [策略模式] 策略模式指的是定义一系列的算法，把它们一个个封装起来。将不变的部分和变化的部分隔开是每个设计模式的主题，策略模式也不例外，策略模式的目的就是将算法的使用与算法的实现分离开来。

    - 第一个部分是一组策略类，策略类封装了具体的算法，并负责具体的计算过程。
  
    -  第二个部分是环境类Context，Context 接受客户的请求，随后把请求委托给某一个策略类。



    - 从定义上看，策略模式就是用来封装算法的。但如果把策略模式仅仅用来封装算法，未免有
        一点大材小用。在实际开发中，我们通常会把算法的含义扩散开来，使策略模式也可以用来封装
        一系列的“业务规则”。只要这些业务规则指向的目标一致，并且可以被替换使用，我们就可以
        用策略模式来封装它们。


    - 策略模式是一种常用且有效的设计模式，本章提供了计算奖金、缓动动画、表单校验这三个
        例子来加深大家对策略模式的理解。从这三个例子中，我们可以总结出策略模式的一些优点。
        -  策略模式利用组合、委托和多态等技术和思想，可以有效地避免多重条件选择语句。
        -  策略模式提供了对开放—封闭原则的完美支持，将算法封装在独立的strategy 中，使得它
            们易于切换，易于理解，易于扩展。
        -  策略模式中的算法也可以复用在系统的其他地方，从而避免许多重复的复制粘贴工作。
        -  在策略模式中利用组合和委托来让Context 拥有执行算法的能力，这也是继承的一种更轻
        便的替代方案。
        当然，策略模式也有一些缺点，但这些缺点并不严重。
    - 首先，使用策略模式会在程序中增加许多策略类或者策略对象，但实际上这比把它们负责的
        逻辑堆砌在Context 中要好。
    - 其次，要使用策略模式，必须了解所有的strategy，必须了解各个strategy 之间的不同点，
        这样才能选择一个合适的strategy。比如，我们要选择一种合适的旅游出行路线，必须先了解选
        择飞机、火车、自行车等方案的细节。此时strategy 要向客户暴露它的所有实现，这是违反最少
        知识原则的。