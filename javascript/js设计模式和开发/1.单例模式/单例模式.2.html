<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // 单例模式的实现 2 

        var Singleton = function ( name ) {
            this.name = name ;
        }

        Singleton.prototype.getName = function () {
            alert( this.name ) ;
        }

        Singleton.getIntance = (function () {

            let instance ;

            return function ( name ) {

                if (!instance) {

                    return instance = new Singleton( name );
                
                } else {

                    return instance ;
                
                } 

            }
        })()
    
        var a = Singleton.getIntance('svent1')

        
        
        var b = Singleton.getIntance('svent2')

        console.log(a)
        console.log(b)
        alert ( a === b ); // true

        //         我们通过Singleton.getInstance 来获取Singleton 类的唯一对象，这种方式相对简单，但有
        // 一个问题，就是增加了这个类的“不透明性”，Singleton 类的使用者必须知道这是一个单例类，
        // 跟以往通过new XXX 的方式来获取对象不同，这里偏要使用Singleton.getInstance 来获取对象。
        // 接下来顺便进行一些小测试，来证明这个单例类是可以信赖的：

        // 虽然现在已经完成了一个单例模式的编写，但这段单例模式代码的意义并不大。从下一节开
        // 始，我们将一步步编写出更好的单例模式。
    
    </script>
</body>
</html>